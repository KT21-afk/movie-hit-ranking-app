# セキュリティガイドライン

## 環境変数の設定

本アプリケーションを実行するには、以下の環境変数が必要です：

### 必須環境変数

```bash
# TMDb API設定
TMDB_API_KEY=your_tmdb_api_key_here
TMDB_BASE_URL=https://api.themoviedb.org/3
```

### 環境変数ファイルの作成

1. `.env.local`ファイルが既に存在します
2. `TMDB_API_KEY=your_tmdb_api_key_here`の部分を実際のTMDb APIキーに置き換えてください
3. **重要**: 実際のAPIキーを設定した後は、`.env.local`ファイルを絶対にGitにコミットしないでください

### TMDb APIキーの取得方法

1. [TMDb](https://www.themoviedb.org/)でアカウントを作成
2. Settings > API でAPIキーを取得
3. `.env.local`ファイルの`your_tmdb_api_key_here`を実際のキーに置き換え

## セキュリティ機能

### 実装済みセキュリティ対策

- **セキュリティヘッダー**: CSP, XSS保護, フレーム保護
- **入力値検証**: APIパラメータの範囲チェック
- **エラーハンドリング**: 機密情報を含まないエラーレスポンス
- **タイムアウト設定**: API呼び出しの10秒タイムアウト
- **レート制限**: TMDb APIの制限に準拠

### 開発時の注意事項

1. **APIキーの管理**
   - 本番環境では環境変数で設定
   - 開発環境でも`.env.local`を使用
   - コードにハードコードしない

2. **ログ出力**
   - 本番環境では機密情報をログに出力しない
   - 開発環境のみでデバッグログを使用

3. **依存関係の管理**
   - 定期的に`npm audit`を実行
   - 脆弱性のあるパッケージは速やかに更新

## 報告

セキュリティ上の問題を発見した場合は、GitHubのIssueではなく、直接開発者に連絡してください。